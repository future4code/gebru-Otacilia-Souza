{"ast":null,"code":"var _jsxFileName = \"/home/otacilia/outras/Stefani-Moreira/modulo2/semana7/apis-labenusers/labenusers/src/components/UsersListScreen/UsersListScreen.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { ButtonPages } from \"../../GeneralStyles\";\nimport { MainContainer, StyledUsername } from \"./StylesList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UsersListScreen extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      usersList: []\n    };\n\n    this.getAllUsers = () => {\n      axios.get(\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\", {\n        headers: {\n          Authorization: \"otacilia-souza-gebru\"\n        }\n      }).then(res => {\n        this.setState({\n          usersList: res.data\n        });\n      }).catch(err => {\n        alert(err.res);\n      });\n    };\n\n    this.deleteUser = id => {\n      const question = window.confirm(\"Deseja deletar o usuário?\");\n\n      if (question) {\n        axios.delete(`https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${id}`, {\n          headers: {\n            Authorization: \"otacilia-souza-gebru\"\n          }\n        }).then(() => {\n          alert(\"Usuário deletado\");\n          this.getAllUsers();\n        }).catch(err => {\n          alert(err.res);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getAllUsers();\n  }\n\n  render() {\n    const showUsers = this.state.usersList.map(user => {\n      return /*#__PURE__*/_jsxDEV(StyledUsername, {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: user.name\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.deleteUser(user.id),\n          children: \" x \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ButtonPages, {\n        onClick: this.props.pageSingUp,\n        children: \"Cadastro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MainContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Lista de Usu\\xE1rios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), showUsers]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/otacilia/outras/Stefani-Moreira/modulo2/semana7/apis-labenusers/labenusers/src/components/UsersListScreen/UsersListScreen.js"],"names":["React","axios","ButtonPages","MainContainer","StyledUsername","UsersListScreen","Component","state","usersList","getAllUsers","get","headers","Authorization","then","res","setState","data","catch","err","alert","deleteUser","id","question","window","confirm","delete","componentDidMount","render","showUsers","map","user","name","props","pageSingUp"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,qBAA1B;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,cAA9C;;AAEA,eAAe,MAAMC,eAAN,SAA8BL,KAAK,CAACM,SAApC,CAA8C;AAAA;AAAA;AAAA,SAC3DC,KAD2D,GACnD;AACNC,MAAAA,SAAS,EAAE;AADL,KADmD;;AAAA,SAS3DC,WAT2D,GAS7C,MAAM;AAClBR,MAAAA,KAAK,CACFS,GADH,CAEI,qEAFJ,EAGI;AACEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAE;AADR;AADX,OAHJ,EASGC,IATH,CASSC,GAAD,IAAS;AACb,aAAKC,QAAL,CAAc;AAAEP,UAAAA,SAAS,EAAEM,GAAG,CAACE;AAAjB,SAAd;AACD,OAXH,EAYGC,KAZH,CAYUC,GAAD,IAAS;AACdC,QAAAA,KAAK,CAACD,GAAG,CAACJ,GAAL,CAAL;AACD,OAdH;AAeD,KAzB0D;;AAAA,SA2B3DM,UA3B2D,GA2B7CC,EAAD,IAAQ;AACnB,YAAMC,QAAQ,GAAGC,MAAM,CAACC,OAAP,CAAe,2BAAf,CAAjB;;AACA,UAAIF,QAAJ,EAAc;AACZrB,QAAAA,KAAK,CACFwB,MADH,CAEK,uEAAsEJ,EAAG,EAF9E,EAGI;AACEV,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAE;AADR;AADX,SAHJ,EASGC,IATH,CASQ,MAAM;AACVM,UAAAA,KAAK,CAAC,kBAAD,CAAL;AACA,eAAKV,WAAL;AACD,SAZH,EAaGQ,KAbH,CAaUC,GAAD,IAAS;AACdC,UAAAA,KAAK,CAACD,GAAG,CAACJ,GAAL,CAAL;AACD,SAfH;AAgBD;AACF,KA/C0D;AAAA;;AAK3DY,EAAAA,iBAAiB,GAAG;AAClB,SAAKjB,WAAL;AACD;;AA0CDkB,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAG,KAAKrB,KAAL,CAAWC,SAAX,CAAqBqB,GAArB,CAA0BC,IAAD,IAAU;AACnD,0BACE,QAAC,cAAD;AAAA,gCACE;AAAA,oBACIA,IAAI,CAACC;AADT,WAASD,IAAI,CAACT,EAAd;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKD,UAAL,CAAgBU,IAAI,CAACT,EAArB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAQD,KATiB,CAAlB;AAUA,wBACE;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,OAAO,EAAE,KAAKW,KAAL,CAAWC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,aAAD;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGL,SAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AArE0D","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {ButtonPages} from \"../../GeneralStyles\";\nimport { MainContainer, StyledUsername } from \"./StylesList\";\n\nexport default class UsersListScreen extends React.Component {\n  state = {\n    usersList: [],\n  };\n\n  componentDidMount() {\n    this.getAllUsers();\n  }\n\n  getAllUsers = () => {\n    axios\n      .get(\n        \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\",\n        {\n          headers: {\n            Authorization: \"otacilia-souza-gebru\",\n          },\n        }\n      )\n      .then((res) => {\n        this.setState({ usersList: res.data });\n      })\n      .catch((err) => {\n        alert(err.res);\n      });\n  };\n\n  deleteUser = (id) => {\n    const question = window.confirm(\"Deseja deletar o usuário?\");\n    if (question) {\n      axios\n        .delete(\n          `https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${id}`,\n          {\n            headers: {\n              Authorization: \"otacilia-souza-gebru\",\n            },\n          }\n        )\n        .then(() => {\n          alert(\"Usuário deletado\");\n          this.getAllUsers();\n        })\n        .catch((err) => {\n          alert(err.res);\n        });\n    }\n  };\n\n  render() {\n    const showUsers = this.state.usersList.map((user) => {\n      return (\n        <StyledUsername>\n          <li key={user.id}>\n             {user.name}\n          </li>\n          <button onClick={() => this.deleteUser(user.id)}> x </button>\n        </StyledUsername>\n      );\n    });\n    return (\n      <div>\n        <ButtonPages onClick={this.props.pageSingUp}>Cadastro</ButtonPages>\n        <MainContainer>\n          <h2>Lista de Usuários</h2>\n          {showUsers}\n        </MainContainer>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}